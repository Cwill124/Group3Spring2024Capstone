<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Captsone\Group3Spring2024Capstone\code\CapstoneASP\Controllers\TagController.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using CapstoneASP.Database.Service;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Configuration;
using System;
using System.Threading.Tasks;
using CapstoneASP.Model;

namespace CapstoneASP.Controllers
{
    /// &lt;summary&gt;
    /// Controller for managing operations related to tags.
    /// &lt;/summary&gt;
    [Route(&quot;&quot;)]
    [ApiController]
    public class TagController : ControllerBase
    {
        #region Data Members

        private readonly IConfiguration config;
        private readonly ITagService tagService;

        #endregion

        #region Constructor

        /// &lt;summary&gt;
        /// Initializes a new instance of the &lt;see cref=&quot;TagController&quot;/&gt; class.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;config&quot;&gt;The configuration.&lt;/param&gt;
        /// &lt;param name=&quot;tagService&quot;&gt;The tag service.&lt;/param&gt;
        public TagController(IConfiguration config, ITagService tagService)
        {
            this.config = config;
            this.tagService = tagService;
        }

        #endregion

        #region Methods

        /// &lt;summary&gt;
        /// Deletes a tag by its ID.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;tagId&quot;&gt;The ID of the tag to delete.&lt;/param&gt;
        /// &lt;returns&gt;An action result indicating success or failure.&lt;/returns&gt;
        [HttpPost]
        [Route(&quot;Tags/DeleteById&quot;)]
        public async Task&lt;ActionResult&gt; DeleteById([FromBody] int tagId)
        {
            await this.tagService.DeleteTagById(tagId);
            return Ok(&quot;Tag Deleted successfully&quot;);
        }

        /// &lt;summary&gt;
        /// Retrieves a collection of tags belonging to a specific username.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;username&quot;&gt;The username for which to retrieve tags.&lt;/param&gt;
        /// &lt;returns&gt;An asynchronous task that represents the operation, returning a collection of Tags.&lt;/returns&gt;
        [HttpPost]
        [Route(&quot;Tags/GetTagsBelongingToUsername&quot;)]
        public async Task&lt;IEnumerable&lt;Tags&gt;&gt; GetTagsBelongingToUsername([FromBody] string username)
        {
            var tags = await this.tagService.GetTagsBelongingToUser(username);
            return tags;
        }

        /// &lt;summary&gt;
        /// Creates a new tag using the provided Tag object.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;tag&quot;&gt;The Tag object containing information about the new tag.&lt;/param&gt;
        /// &lt;returns&gt;An asynchronous task that represents the operation, returning an IActionResult with a success message.&lt;/returns&gt;
        [HttpPost]
        [Route(&quot;Tags/CreateTag&quot;)]
        public async Task&lt;IActionResult&gt; CreateTag([FromBody] Tags tag)
        {
            await this.tagService.CreateTag(tag);
            return Ok(&quot;Tag created successfully&quot;);
        }

        /// &lt;summary&gt;
        /// Retrieves a collection of tags associated with a specific note ID.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;noteId&quot;&gt;The ID of the note for which to retrieve tags.&lt;/param&gt;
        /// &lt;returns&gt;An asynchronous task that represents the operation, returning a collection of Tags.&lt;/returns&gt;
        [HttpPost]
        [Route(&quot;Tags/GetByNoteId&quot;)]
        public async Task&lt;IEnumerable&lt;Tags&gt;&gt; GetTagsByNoteId([FromBody] int noteId)
        {
            var tags = await this.tagService.GetTagsByNoteId(noteId);
            return tags;
        }

        #endregion
    }
}


    </pre>
    <script type="text/javascript">
      highlightRanges([[32,9,32,76,1],[33,9,33,10,1],[34,13,34,34,1],[35,13,35,42,1],[36,9,36,10,1],[50,9,50,10,1],[51,13,51,56,1],[52,13,52,51,1],[53,9,53,10,1],[63,9,63,10,1],[64,13,64,79,1],[65,13,65,25,1],[66,9,66,10,1],[76,9,76,10,1],[77,13,77,50,1],[78,13,78,51,1],[79,9,79,10,1],[89,9,89,10,1],[90,13,90,70,1],[91,13,91,25,1],[92,9,92,10,1]]);
    </script>
  </body>
</html>