<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Captsone\Group3Spring2024Capstone\code\DesktopCapstone\DesktopCapstone\model\Note.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.ObjectModel;
using Newtonsoft.Json.Linq;

namespace DesktopCapstone.model;

/// &lt;summary&gt;
///     Represents a note with associated information such as source ID, note ID, content, and username.
/// &lt;/summary&gt;
public class Note : IEquatable&lt;Note&gt;
{
    #region Properties

    /// &lt;summary&gt;
    ///     Gets or sets the source ID associated with the note.
    /// &lt;/summary&gt;
    public int SourceId { get; set; }

    /// &lt;summary&gt;
    ///     Gets or sets the unique identifier for the note.
    /// &lt;/summary&gt;
    public int NoteId { get; set; }

    /// &lt;summary&gt;
    ///     Gets or sets the content of the note, typically in JSON format.
    /// &lt;/summary&gt;
    public string Content { get; set; }

    /// &lt;summary&gt;
    ///     Gets or sets the username associated with the note.
    /// &lt;/summary&gt;
    public string Username { get; set; }

    public ObservableCollection&lt;Tags&gt; TagList { get; set; }

    #endregion

    #region Methods

    /// &lt;summary&gt;
    ///     Determines whether the current note is equal to another note.
    /// &lt;/summary&gt;
    /// &lt;param name=&quot;other&quot;&gt;The note to compare with the current note.&lt;/param&gt;
    /// &lt;returns&gt;true if the notes are equal; otherwise, false.&lt;/returns&gt;
    public bool Equals(Note other)
    {
        return this.NoteId == other.NoteId;
    }

    /// &lt;summary&gt;
    ///     Converts the note&#39;s content to a string representation, extracting the note title and content.
    /// &lt;/summary&gt;
    /// &lt;returns&gt;A string representation of the note, including its title and content.&lt;/returns&gt;
    public override string ToString()
    {
        var json = JObject.Parse(this.Content);

        // Extracting note title and content from the JSON
        return (string)json[&quot;note_Title&quot;] + &quot;\n\n&quot; + (string)json[&quot;note_Content&quot;];
    }

    /// &lt;summary&gt;
    ///     Gets the title of the note from the JSON content.
    /// &lt;/summary&gt;
    /// &lt;returns&gt;The title of the note.&lt;/returns&gt;
    public string GetTitle()
    {
        var json = JObject.Parse(this.Content);
        return (string)json[&quot;note_Title&quot;];
    }

    /// &lt;summary&gt;
    ///     Gets the content of the note from the JSON content.
    /// &lt;/summary&gt;
    /// &lt;returns&gt;The content of the note.&lt;/returns&gt;
    public string GetContent()
    {
        var json = JObject.Parse(this.Content);
        return (string)json[&quot;note_Content&quot;];
    }

    /// &lt;summary&gt;
    ///     Checks if the note has a specific tag.
    /// &lt;/summary&gt;
    /// &lt;param name=&quot;tag&quot;&gt;The tag to check for in the note&#39;s tag list.&lt;/param&gt;
    /// &lt;returns&gt;true if the note has the specified tag; otherwise, false.&lt;/returns&gt;
    public bool HasTag(Tags tag)
    {
        if (tag != null)
        {
            foreach (var current in this.TagList)
            {
                if (current.Tag == tag.Tag)
                {
                    return true;
                }
            }
        }

        return false;
    }

    #endregion
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,27,16,31,1],[16,32,16,36,1],[21,25,21,29,1],[21,30,21,34,1],[26,29,26,33,1],[26,34,26,38,1],[31,30,31,34,1],[31,35,31,39,1],[33,49,33,53,1],[33,54,33,58,1],[45,5,45,6,1],[46,9,46,44,1],[47,5,47,6,1],[54,5,54,6,1],[55,9,55,48,1],[58,9,58,83,1],[59,5,59,6,1],[66,5,66,6,1],[67,9,67,48,1],[68,9,68,43,1],[69,5,69,6,1],[76,5,76,6,1],[77,9,77,48,1],[78,9,78,45,1],[79,5,79,6,1],[87,5,87,6,1],[88,9,88,25,1],[89,9,89,10,1],[90,13,90,20,1],[90,22,90,33,1],[90,34,90,36,1],[90,37,90,49,1],[91,13,91,14,1],[92,17,92,44,1],[93,17,93,18,1],[94,21,94,33,1],[96,13,96,14,1],[97,9,97,10,1],[99,9,99,22,1],[100,5,100,6,1]]);
    </script>
  </body>
</html>